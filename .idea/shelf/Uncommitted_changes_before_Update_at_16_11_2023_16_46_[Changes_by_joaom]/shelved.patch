Index: src/pt/isec/pd/a2020136093/client/ui/gui/LoginUI.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package pt.isec.pd.a2020136093.client.ui.gui;\r\n\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Font;\r\n\r\npublic class LoginUI extends BorderPane {\r\n    ManageConnections mc;\r\n\r\n    VBox vbox1, vbox2;\r\n    TextField emailField;\r\n    TextField passwordField;\r\n\r\n    Label lblRetorno, lblTitle, lblEmail, lblPassword;\r\n    Button btnLogin,btnBack;\r\n\r\n    public LoginUI(ManageConnections mc) {\r\n        this.mc = mc;\r\n\r\n        //titleFont = FontManager.loadFont(\"PAC-FONT.TTF\",69);\r\n        //buttonsFont = FontManager.loadFont(\"PressStart2P-Regular.ttf\",12);\r\n\r\n        createViews();\r\n        registerHandlers();\r\n        update();\r\n    }\r\n\r\n\r\n    private void createViews() {\r\n        this.setBackground(new Background(new BackgroundFill(Color.rgb(240, 240, 240), null, null)));\r\n\r\n        lblTitle = new Label(\"LOGIN\");\r\n        lblTitle.setStyle(\"-fx-text-fill: #333; -fx-font-size: 36px; -fx-font-weight: bold;\");\r\n\r\n        vbox1 = new VBox();\r\n        emailField = new TextField();\r\n        //emailField.setPromptText(\"Email\");\r\n        emailField.setMaxWidth(690);\r\n        lblEmail = new Label(\"Email\");\r\n        vbox1.getChildren().addAll(lblEmail, emailField);\r\n        vbox1.alignmentProperty().setValue(Pos.CENTER);\r\n\r\n        vbox2 = new VBox();\r\n        passwordField = new TextField();\r\n        //passwordField.setPromptText(\"Password\");\r\n        passwordField.setMaxWidth(690);\r\n        lblPassword = new Label(\"Password\");\r\n        vbox2.getChildren().addAll(lblPassword, passwordField);\r\n        vbox2.alignmentProperty().setValue(Pos.CENTER);\r\n\r\n        lblRetorno = new Label(\"\");\r\n        lblRetorno.setVisible(false);\r\n\r\n\r\n        btnLogin = createStyledButton(\"LOGIN\");\r\n        btnLogin.setMinWidth(120);\r\n        btnBack = createStyledButton(\"VOLTAR\");\r\n        btnBack.setMinWidth(120);\r\n\r\n\r\n        VBox vBox = new VBox(lblTitle, vbox1, vbox2, lblRetorno, btnLogin, btnBack);\r\n        vBox.setAlignment(Pos.CENTER);\r\n        vBox.setSpacing(15);\r\n        VBox.setMargin(btnLogin, new Insets(25, 0, 0, 0)); // Set top margin for the button\r\n\r\n        this.setCenter(vBox);\r\n    }\r\n\r\n    private Button createStyledButton(String text) {\r\n        Button button = new Button(text);\r\n        button.setStyle(\" -fx-text-fill: black; -fx-font-size: 16px; \");\r\n        return button;\r\n    }\r\n\r\n\r\n\r\n\r\n    private void registerHandlers() {\r\n        RootPane.addPropertyChangeListener(\"SHOWMENU\", evt -> { update(); });\r\n        RootPane.addPropertyChangeListener(\"SHOWLOGIN\", evt -> { update(); });\r\n\r\n\r\n        btnLogin.setOnAction( event -> {\r\n            if (mc != null) {\r\n                if (mc.login(emailField.getText(), passwordField.getText())) {\r\n                    lblRetorno.setVisible(true);\r\n                    lblRetorno.setText(\"Login efetuado com sucesso!\");\r\n                    lblRetorno.setStyle(\"-fx-text-fill: green; -fx-font-size: 16px; -fx-font-weight: bold;\");\r\n\r\n                    PauseTransition delay = new PauseTransition(Duration.seconds(2));\r\n\r\n                    delay.setOnFinished(e -> {\r\n                        RootPane.setShowLogin(false);\r\n                        RootPane.setShowMainMenu(true);\r\n                    });\r\n\r\n                } else {\r\n                    lblRetorno.setVisible(true);\r\n                    lblRetorno.setText(\"Credenciais erradas!\");\r\n                    lblRetorno.setStyle(\"-fx-text-fill: red; -fx-font-size: 16px; -fx-font-weight: bold;\");\r\n                }\r\n            }\r\n            else{\r\n                System.out.println(\"ManageConnections is null\");\r\n            }\r\n\r\n        });\r\n\r\n        btnBack.setOnAction( event -> {\r\n            RootPane.setShowLogin(false);\r\n            RootPane.setShowMainMenu(true);\r\n        });\r\n\r\n\r\n\r\n        //ExitAlertUI.exitAlert(btnExit);\r\n    }\r\n\r\n\r\n    private void update(){\r\n        if(RootPane.showLogin){\r\n            this.setVisible(true);\r\n        }else{\r\n            this.setVisible(false);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/pt/isec/pd/a2020136093/client/ui/gui/LoginUI.java b/src/pt/isec/pd/a2020136093/client/ui/gui/LoginUI.java
--- a/src/pt/isec/pd/a2020136093/client/ui/gui/LoginUI.java	(revision 6235e9b251a7694a5bd196cec851a618ee8e36f6)
+++ b/src/pt/isec/pd/a2020136093/client/ui/gui/LoginUI.java	(date 1700151962530)
@@ -1,11 +1,14 @@
 package pt.isec.pd.a2020136093.client.ui.gui;
 
+import javafx.animation.PauseTransition;
 import javafx.geometry.Insets;
 import javafx.geometry.Pos;
 import javafx.scene.control.*;
 import javafx.scene.layout.*;
 import javafx.scene.paint.Color;
 import javafx.scene.text.Font;
+import javafx.util.Duration;
+import pt.isec.pd.a2020136093.client.communication.ManageConnections;
 
 public class LoginUI extends BorderPane {
     ManageConnections mc;
